<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>I Miss You üíô</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Great+Vibes&display=swap" rel="stylesheet">
<style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Pacifico',cursive;}
    body{overflow-x:hidden;text-align:center;background:linear-gradient(135deg,#ff9a9e,#fad0c4);color:#fff;position:relative; min-height: 100vh;}
    
    .disco{
     position:fixed;inset:0;z-index:-5;
     background:
      radial-gradient(circle at 20% 30%, rgba(255,0,150,.4), transparent 40%),
      radial-gradient(circle at 80% 20%, rgba(0,255,255,.4), transparent 40%),
      radial-gradient(circle at 50% 80%, rgba(255,255,0,.4), transparent 40%);
     animation:disco 8s infinite alternate;
    }
    @keyframes disco{100%{filter:hue-rotate(360deg)}}

    button{
     padding:14px 36px;border:none;border-radius:40px;
     background:white;color:#c9184a;
     font-size:1.3rem;margin:15px;cursor:pointer;
     transition:.3s;
    }
    button:hover{transform:scale(1.1)}

    #lock{position:fixed;inset:0;background:rgba(0,0,0,.7);display:flex;justify-content:center;align-items:center;z-index:999}
    #lockBox{background:rgba(255,255,255,.85);padding:40px;border-radius:30px;color:#c9184a;}
    #lock input, #quizAnswer{padding:14px;border:none;border-radius:25px;font-size:1.2rem;text-align:center; margin-bottom: 10px;}
    #passHint{font-weight:bold;font-size:1.3rem;margin-bottom:15px;}

    .page{display:none; padding:30px;}
    #game, #quizPage, #letterPage, #memoryGame, #finalPage{min-height:100vh;}

    #heart-area span{
     position:absolute;
     font-size:32px;
     cursor:pointer;
     animation:fall 4s linear infinite;
     filter:drop-shadow(0 0 15px #ff2e63);
     user-select: none;
    }
    @keyframes fall{
     from{top:-60px;transform:rotate(0deg)}
     to{top:110vh;transform:rotate(360deg)}
    }
    #score{font-size:3.5rem;animation:pulse .5s;}
    @keyframes pulse{50%{transform:scale(1.3)}}

    #quizQuestion{font-size:1.8rem;margin: 30px 0;}
    #quizMessage{margin-top:20px;color:#ff2e63;font-size:1.4rem;}

    .letter{
     background:rgba(255,255,255,.2);
     backdrop-filter: blur(10px);
     width:90%;max-width:800px;
     margin:50px auto;padding:40px;
     border-radius:25px;font-size:1.5rem;line-height:2.2rem;
     border: 2px solid white;
    }

    #memoryBoard{display:flex;flex-wrap:wrap;width:320px;margin:30px auto;justify-content:center}
    #memoryBoard div{width:70px;height:70px;margin:5px;background:#fff;display:flex;align-items:center;justify-content:center;font-size:2rem;cursor:pointer;border-radius:10px;color: #000;}

    #finalPage { position: relative; }
    #finalCanvas{display:block;margin:20px auto;background:#000;border-radius:20px;box-shadow:0 0 40px #ff2e63;}
    #finalText{
     font-size:3rem; font-family:'Great Vibes',cursive; color:#fff;
     text-align:center; position:absolute; top:55%; left:50%; transform:translate(-50%, -50%);
     text-shadow: 0 0 10px #ff2e63;
     pointer-events: none;
    }
</style>
</head>
<body>

<div class="disco"></div>

<div id="lock" class="page" style="display:flex">
 <div id="lockBox">
  <h2>üíñ I Miss You üíñ</h2>
  <div id="passHint">Password Hint: His Name üíô</div>
  <input type="password" id="pass" placeholder="Password">
  <br>
  <button onclick="unlock()">Unlock üíñ</button>
  <p id="err" style="color:red"></p>
 </div>
</div>

<div id="game" class="page">
 <h1>‚ù§Ô∏è Catch 10 Hearts ‚ù§Ô∏è</h1>
 <h2><span id="score">0</span> / 10</h2>
 <div id="heart-area"></div>
</div>

<div id="quizPage" class="page">
 <h1>Mini Love Quiz üíï</h1>
 <div id="quizQuestion"></div>
 <input id="quizAnswer" placeholder="Your Answer">
 <p id="quizMessage"></p>
 <button id="quizNext" onclick="checkQuiz()">Submit</button>
</div>

<div id="letterPage" class="page">
 <div class="letter" id="letterText">
    "Every moment without you feels like an eternity. You are the beat in my heart and the smile on my face.You are one in million. I love you forever jana.I miss you more than words can say, Harmain."
 </div>
 <button onclick="showMemory()">Next üíô</button>
</div>

<div id="memoryGame" class="page">
 <h1>Memory Love Game üíñ</h1>
 <p>Match the pairs!</p>
 <div id="memoryBoard"></div>
 <button id="memNext" style="display:none" onclick="showFinalPage()">Go to Final Page ‚ù§Ô∏è</button>
</div>

<div id="finalPage" class="page">
  <h1>Forever Connected ‚ù§Ô∏è</h1>
  <canvas id="finalCanvas" width="500" height="500"></canvas>
  <div id="finalText">Talha ‚ù§Ô∏è Harmain</div>
</div>

<script>
// --- GLOBAL NAVIGATION ---
function showPage(id) {
    document.querySelectorAll('.page').forEach(p => p.style.display = 'none');
    document.getElementById(id).style.display = 'block';
}

// --- LOCK LOGIC ---
function unlock(){
    const passVal = document.getElementById("pass").value.toLowerCase();
    if(passVal == "talha"){
        showPage('game');
        startGame();
    } else {
        document.getElementById("err").innerText = "Dil se socho üíî";
    }
}

// --- HEART GAME ---
let score = 0;
function startGame(){
    const area = document.getElementById("heart-area");
    let interval = setInterval(() => {
        if(score >= 10){
            clearInterval(interval);
            setTimeout(() => { showPage('quizPage'); initQuiz(); }, 1000);
            return;
        }
        let h = document.createElement("span");
        h.innerHTML = "‚ù§Ô∏è";
        h.style.left = Math.random() * 90 + "vw";
        h.onclick = function(){
            score++;
            document.getElementById("score").innerText = score;
            this.remove();
        };
        area.appendChild(h);
        setTimeout(() => h.remove(), 4000);
    }, 800);
}

// --- QUIZ LOGIC ---
const questions = [
    { q: "Who loves you the most?", a: "talha" },
    { q: "Talha's favourite person?", a: "Harmain" },
  { q:"Talha's favourite colour?", a:"Black" } ,
  { q:"Talha's favourite food?", a:"Biryani"}
];
let currentQ = 0;

function initQuiz(){
    document.getElementById("quizQuestion").innerText = questions[currentQ].q;
}

function checkQuiz(){
    let ans = document.getElementById("quizAnswer").value.toLowerCase();
    if(ans.includes(questions[currentQ].a)){
        currentQ++;
        if(currentQ < questions.length){
            initQuiz();
            document.getElementById("quizAnswer").value = "";
            document.getElementById("quizMessage").innerText = "";
        } else {
            showPage('letterPage');
        }
    } else {
        document.getElementById("quizMessage").innerText = "Try again, Jaan!";
    }
}

// --- MEMORY GAME ---
const emojis = ['üíñ','üíñ','üíé','üíé','üå∏','üå∏','üî•','üî•','üíù','üíù','üíç','üíç'];
let flipped = [];
let matched = 0;

function showMemory(){
    showPage('memoryGame');
    const board = document.getElementById("memoryBoard");
    board.innerHTML = ""; // Clear board if needed
    let gameEmojis = [...emojis];
    gameEmojis.sort(() => 0.5 - Math.random());
    gameEmojis.forEach((emoji, i) => {
        let card = document.createElement("div");
        card.dataset.val = emoji;
        card.dataset.index = i;
        card.onclick = flipCard;
        card.innerText = "?";
        board.appendChild(card);
    });
}

function flipCard(){
    if(flipped.length < 2 && !this.classList.contains('done') && this !== flipped[0]){
        this.innerText = this.dataset.val;
        flipped.push(this);
        if(flipped.length === 2) setTimeout(checkMatch, 500);
    }
}

function checkMatch(){
    if(flipped[0].dataset.val === flipped[1].dataset.val){
        flipped.forEach(c => c.classList.add('done'));
        matched++;
        if(matched === 4) document.getElementById("memNext").style.display = "inline-block";
    } else {
        flipped.forEach(c => c.innerText = "?");
    }
    flipped = [];
}

// --- FINAL PAGE CANVAS ---
function showFinalPage(){
    showPage('finalPage');
    const canvas = document.getElementById('finalCanvas');
    const ctx = canvas.getContext('2d');
    let t = 0;

    function draw() {
        ctx.fillStyle = "rgba(0,0,0,0.05)";
        ctx.fillRect(0,0,500,500);
        
        let x = 16 * Math.pow(Math.sin(t), 3);
        let y = -(13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t));
        
        ctx.save();
        ctx.translate(250, 250);
        ctx.fillStyle = "#ff2e63";
        ctx.beginPath();
        ctx.arc(x * 12, y * 12, 2, 0, Math.PI*2);
        ctx.fill();
        ctx.restore();
        
        t += 0.05;
        requestAnimationFrame(draw);
    }
    draw();
}
</script>
</body>
</html>
